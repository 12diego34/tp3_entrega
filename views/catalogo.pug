extends base
block catalogo

  head 
    title Catalogo
    link(rel='stylesheet', href='//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css')
    
  body(ng-controller="MostrarLibrosController")
    .container      
      .form-group.text-center
          br
          br
          h3
            |" {{ libros.length }} libros "
          input(id='search_term', name='search_term', type='text', 
                            placeholder='Busque por titulo o precio', ng-model="form.search_term", class="form-control custom-input", valor="form.search_term", required="")
          h3
          div(ng-if="libros && libros.length > 0" ng-cloak)
              table.table-responsive
                  thead.cabecera-tabla
                      tr: th Libro
                          th Título
                          th Precio
                          th Up
                          th Down
                          th Opciones
                  tbody
                      tr(ng-repeat="libro in libros")
                          td(ng-if="libro.gbook.thumbnail"): img(ng-src="{{libro.gbook.thumbnail}}", class="tapa-libro")
                          td.item-info-xs 
                              p {{libro.gbook.title}}
                              p(ng-if="!libro.gbook.title").
                                  No hay información disponible
                          td.item-info-xs
                              button.btn.btn-default(type='button',ng-click="editarPrecio(libro._id)")   
                              p {{libro.precio}}
                              p(ng-if="!libro.precio").
                                   No hay información disponible
                          td.item-info-xs    
                            button.btn.btn-default(type='button',ng-click="up(libro.ranking_up=libro.ranking_up +1)")
                              p {{libro.ranking_up}}
                          td.item-info-xs 
                            button.btn.btn-default(type='button',ng-click="down(libro.ranking_down =libro.ranking_down-1)")   
                              p {{libro.ranking_down}}     
                          td.item-info-xs
                            button.btn.glyphicon.glyphicon-remove(type='button',ng-click="delete(libro._id)")